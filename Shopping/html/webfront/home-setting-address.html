<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
    <title>设置-个人信息</title>
</head>

<body>
    <!-- 头部栏位 -->
<div class="head"></div>
    <!--header-->
    <div id="account" ng-app="shopping" ng-controller="AddressController" ng-init="findAddressList();findByProvinces();findByCities();findByAreas()">
        <div class="py-container">
            <div class="yui3-g home">
               	<!--左侧列表-->
					<div class="yui3-u-1-6 list">

						<div class="person-info">
							<div class="person-photo"><img src="../../img/_/photo.png" alt=""></div>
							<div class="person-account">
								<span class="name">{{getCookie('user')}}</span>
							</div>
							<div class="clearfix"></div>
						</div>
						<div class="list-items">
							<dl>
								<dt><i>·</i> 订单中心</dt>
								<dd>
									<a  href="home-index.html"  class=" {{isSelectedstatus('')?'list-active':''}} ">
										<i class="fa fa-folder"></i>
										<span>全部订单</span>
										<span class="pull-right-container"><i class="fa fa-angle-left pull-right"></i></span>
									</a>
								</dd>
								<dd>
									<a  href="home-index.html" class=" {{isSelectedstatus(1)?'list-active':''}} ">
										<i class="fa fa-folder"></i>
										<span>待付款</span>
										<span class="pull-right-container"><i class="fa fa-angle-left pull-right"></i></span>
									</a>
								</dd>
								<dd>
									<a href="home-index.html" class=" {{isSelectedstatus(3)?'list-active':''}} ">
										<i class="fa fa-folder"></i>
										<span>待发货</span>
										<span class="pull-right-container"><i class="fa fa-angle-left pull-right"></i></span>
									</a>
								</dd>
								<dd>
									<a  href="home-index.html" class=" {{isSelectedstatus(4)?'list-active':''}} ">
										<i class="fa fa-folder"></i>
										<span>待收货</span>
										<span class="pull-right-container"><i class="fa fa-angle-left pull-right"></i></span>
									</a>
								</dd>
								<dd>
									<a  href="home-index.html" class=" {{isSelectedstatus(4)?'list-active':''}} ">
										<i class="fa fa-folder"></i>
										<span>待收货</span>
										<span class="pull-right-container"><i class="fa fa-angle-left pull-right"></i></span>
									</a>
								</dd>
								
								
								<dd>
									<a ref="home-index.html" class=" {{isSelectedstatus(5)?'list-active':''}} ">
										<i class="fa fa-folder"></i>
										<span>交易成功</span>
										<span class="pull-right-container"><i class="fa fa-angle-left pull-right"></i></span>
									</a>
								</dd>
								
								<dd>
									<a  ref="home-index.html" class=" {{isSelectedstatus(6)?'list-active':''}} ">
										<i class="fa fa-folder"></i>
										<span>交易关闭</span>
										<span class="pull-right-container"><i class="fa fa-angle-left pull-right"></i></span>
									</a>
								</dd>
								
								<dd>
									<a  ref="home-index.html" class=" {{isSelectedstatus(7)?'list-active':''}} ">
										<i class="fa fa-folder"></i>
										<span>待退款/退货</span>
										<span class="pull-right-container"><i class="fa fa-angle-left pull-right"></i></span>
									</a>
								</dd>
								
								<dd>
									<a  ref="home-index.html" class=" {{isSelectedstatus(8)?'list-active':''}} ">
										<i class="fa fa-folder"></i>
										<span>已退款/退货</span>
										<span class="pull-right-container"><i class="fa fa-angle-left pull-right"></i></span>
									</a>
								</dd>
								
								
								
							</dl>
							<dl>
								<dt><i>·</i> 设置</dt>
								<dd>
									<a href="home-setting-address.html" class="list-active">地址管理</a>
								</dd>

							</dl>
						</div>
					</div>
                <!--右侧主内容-->
                <div class="yui3-u-5-6">
                    <div class="body userAddress">
                        <div class="address-title">
                            <span class="title">地址管理</span>
                            <a data-toggle="modal" data-target=".edit" data-keyboard="false"   class="sui-btn  btn-info add-new" ng-click="entity={}">添加新地址</a>
                            <span class="clearfix"></span>
                        </div>
                        <div class="address-detail">
                            <table class="sui-table table-bordered">
                                <thead>
                                    <tr>
                                        <th>姓名</th>
                                        <th>地址</th>
                                        <th>联系电话</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in list">
                                        <td>{{item.contact}}</td>
                                        <td>{{provincesList[item.provinceId]}} {{citieslist[item.cityId]}} {{areasList[item.townId]}} {{item.address}}</td>
                                        <td>{{item.mobile}}</td>
                                        <td>
                                            <a href="#" ng-click="findOne(item.id)" data-target=".edit" data-toggle="modal">编辑</a>
                                            <a href="#" ng-click="dele(item.id)">删除</a>
                                            <span ng-if="item.isDefault==1">
                                            	默认地址
                                            </span>
                                            
                                          	<a ng-if="item.isDefault==0" ng-click="setteingDefault(item.id)">
                                            	设为默认
                                            </a>	  
                                          		  
                                        </td>
                                    </tr>   
                                </tbody>
                            </table>                          
                        </div>
                        <!--新增地址弹出层-->
                         <div  tabindex="-1" role="dialog" data-hasfoot="false" class="sui-modal hide fade edit" style="width:580px;">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" data-dismiss="modal" aria-hidden="true" class="sui-close">×</button>
                                        <h4 id="myModalLabel" class="modal-title">新增地址</h4>
                                    </div>
                                    <div class="modal-body">
                                        <form action="" class="sui-form form-horizontal" name="angularForm">
                                            <div class="control-group">
                                            <label class="control-label">收货人：</label>
                                            <div class="controls">
                                                <input type="text" class="input-medium" required  ng-model="entity.contact">
                                            </div>
                                        </div>
                                        <div class="control-group">
                                            <label class="control-label">所在地区：</label>
                                            <div class="controls">
                                                <div data-toggle="distpicker">
                                                <div class="form-group area">
                                             		<select class="form-control"  ng-model="entity.provinceId" ng-options="item.provinceid as item.province for item in itemCat1List"></select> 
                                                </div>
                                                <div class="form-group area">
                                                	<select class="form-control" ng-model="entity.cityId" ng-options="item.cityid as item.city for item in itemCat2List"></select>
              
                                                </div>
                                                <div class="form-group area">
                                                	 <select class="form-control" ng-model="entity.townId" ng-options="item.areaid as item.area for item in itemCat3List"></select>
                                                   
                                                </div>
                                            </div>
                                            </div>									 
                                        </div>
                                        <div class="control-group">
                                            <label class="control-label">详细地址：</label>
                                            <div class="controls">
                                                <input type="text" class="input-large" required  ng-model="entity.address">
                                            </div>
                                        </div>
                                        <div class="control-group">
                                            <label class="control-label">联系电话：</label>
                                            <div class="controls">
                                                <input type="text" class="input-medium" required name="phone" ng-pattern="/^1[3|4|5|7|8]\d{9}$/" ng-model="entity.mobile">
                                                <span class="warning" style="color:red" ng-show="angularForm.phone.$error.pattern">手机格式不正确</span>
                                            </div>
                                        </div>
                                        <div class="control-group">
                                            <label class="control-label">地址别名：</label>
                                            <div class="controls">
                                                <input type="text" class="input-medium" ng-model="entity.alias">
                                            </div>
                                        </div>
                                        
                                        </form>
                                        
                                        
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" data-ok="modal" class="sui-btn btn-primary btn-large"  ng-disabled="!angularForm.$valid" ng-click="save()">确定</button>
                                        <button type="button" data-dismiss="modal" class="sui-btn btn-default btn-large">取消</button>
                                    </div>
                                </div>
                            </div>
						</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 底部栏位 -->
	<footer class="footer"></footer>
	</body>


	<script type="text/javascript" src="../../plugins/jQuery/jquery.min.js"></script>
	<script type="text/javascript" src="../../js/common/input.js"></script>
	<script type="text/javascript" src="../../plugins/angularjs/angular.min.js"></script>
	<script type="text/javascript" src="../../js/base/Base.js"></script>
	<script type="text/javascript" src="../../js/base/BaseController.js"></script>
	<script type="text/javascript" src="../../js/service/AddressService.js" ></script>
	<script type="text/javascript" src="../../js/controller/AddressController.js" ></script>
	<script type="text/javascript" src="../../plugins/sui/sui.min.js"></script>



</html>